endpoint: "http://localhost:3000"
tests:
  - params:
      query: "all"
      filter:
        - "used"
        - "last-40"
      headers:
        - auth: "Bearer $USER_TOKEN"
        - other: "$ENV"
        - user-agent: "<-nil->"
    expected:
      status: 200
      type: "JSON"
      body:
        shape: "array-soft:min=1;len=any"
        model:
          id: "<number:integer>"
          object:
            name: "<string:min=10:max=30>"
            price: "<number:float>"
            description: "<string:min=50>"
  - params:
      get: 1
    expected:
      status: 405
      type: "text"
      body: "<string:r='error: (aA-zZ).*\n'>"
